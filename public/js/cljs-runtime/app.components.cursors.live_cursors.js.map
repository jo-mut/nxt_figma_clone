{"version":3,"sources":["app/components/cursors/live_cursors.cljs"],"mappings":";AAKA,mDAAA,nDAAMA,8GACHC;AADH,AAEE,kBAAAC;AAAA,AAAA,IAAAC,aAAAD;IAAAC,iBAAA,AAAAC,4BAAAD;aAAA,AAAAE,4CAAAF,eAAA,pEAAaG;AAAb,AACE,oDAAA,mFAAA,hIAACC,yLACK,AAACC,4CAAI,WAAKC;AAAL,AACE,IAAMC,eAAa,oDAAA,mFAAA,vIAACC,+CAAOF;IACrBG,WAAS,oDAAA,mFAAA,vIAACD,+CAAOF;AADvB,AAEE,oBAAMG;AAAN,AACE,IAAMC,cAAY,AAACC,gBAAMC;IACnBC,eAAa,AAACC,6CAAK,AAACC,cAAIR,aAAaG,aAAaE;IAClDI,SAAQ,wDAAA,mFAAA,3IAACR,+CAAOC;IAChBQ,UAAQ,wDAAA,mFAAA,3IAACT,+CAAOC;AAHtB,AAAA,+HAAA,2CAAA,oEAAA,oIAAA,sIAAA,9ZAIGS,uIAA8BL,4DACA,AAAA,6EAAIG,wDACJ,AAAA,8EAAIA,mEACJC;;AARnC;;GASJd","names":["app.components.cursors.live-cursors/live-cursors","props","p__12132","map__12133","cljs.core/--destructure-map","cljs.core.get","others","cljs.core.into","cljs.core.map","item","connectionId","cljs.core.get_in","presence","color-count","cljs.core/count","app.constants.index/colors","random-color","cljs.core.take","cljs.core/mod","cursor","message","app.components.cursors.cursor/cursor"],"sourcesContent":["(ns app.components.cursors.live-cursors\n  (:require\n   [app.components.cursors.cursor :as cursor]\n   [app.constants.index :as colors]))\n\n(defn live-cursors\n  [props]\n  (fn [{:keys [others]}]\n    (into [:<>]\n          (map (fn [item]\n                 (let [connectionId (get-in item [:connectionId])\n                       presence (get-in item [:presence])]\n                   (when presence\n                     (let [color-count (count colors/colors)\n                           random-color (take (mod connectionId color-count) colors/colors)\n                           cursor  (get-in presence [:cursor])\n                           message (get-in presence [:message])]\n                       [cursor/cursor {:color         random-color\n                                       :x             (:x cursor)\n                                       :y             (:y cursor)\n                                       :message       message}]))))\n               others))))"]}